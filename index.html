
<html manifest="cache.manifest">
  <head>
    <script type="text/javascript"
        src="//www.gstatic.com/cast/sdk/libs/caf_receiver/v3/cast_receiver_framework.js">
    </script>
    <!-- <script src="speakClient.js"></script> -->
    <style>
      html, body {
        background: #000;
        color: #fff;
        text-shadow: 3px 3px 3px #000;
        width: 100%;
        height: 100%;
        padding: 0;
        margin: 0;
      }
    body {
      /* background: url('https://images.unsplash.com/photo-1552933529-e359b2477252?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9') 50% 50% no-repeat; */
      background: url('') 50% 50% no-repeat;
      background-size: cover;
    }
    </style>
  </head>
  <body id="body">
    <h1>Welcome back Ramune ...</h1>
    <h2 id="message"></h2>
    <!-- <div id="audio"></div> -->
    <script>
      // speak('Welcome back Ramune');
  
      // cast.receiver.logger.setLevelValue(cast.receiver.LoggerLevel.DEBUG);
      const context = cast.framework.CastReceiverContext.getInstance();
      context.addCustomMessageListener('urn:x-cast:gallery.specter', function (customEvent) {
        var data = customEvent.data
        var type = data.type
        if (type === 'text') {
          document.getElementById("message").innerHTML = data.text;
  
          // speak.data.text;
        } else if (type === 'image') {
          document.getElementById("body").style.backgroundImage = `url('${data.url}')`;
        }
      });
      context.start();
    </script>
  </body>
  </html>